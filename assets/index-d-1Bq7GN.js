import{P as c,r as o,u as D,j as e,m as k,i as G,g as M,a as B,b as z,c as J,d as L}from"./vendor-Bh3yeyqs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();const V=[{id:"1",name:"Собачки світлі",img:"/fluffy/img/dog-img.JPG",cost:699},{id:"2",name:"Єдинороги рожеві",img:"/fluffy/img/unicorn-img.JPG",cost:799},{id:"3",name:"Жирафи",img:"/fluffy/img/giraffe-img.JPG",cost:699},{id:"4",name:"Єдинороги білі",img:"/fluffy/img/goat2.jpg",cost:749},{id:"5",name:"Ведмедики пухнасті",img:"/fluffy/img/bear-img.JPG",cost:749},{id:"6",name:"Корівки пухнасті",img:"/fluffy/img/cow-img.JPG",cost:699},{id:"7",name:"Корівки відкриті",img:"/fluffy/img/cow-velvet.jpg",cost:349},{id:"8",name:"Корівки закриті",img:"/fluffy/img/cow-velvet2.jpg",cost:349},{id:"9",name:"Темні дракончики",img:"/fluffy/img/dinosaur.jpg",cost:799},{id:"10",name:"Ведмедики класичні",img:"/fluffy/img/bear2.jpg",cost:499},{id:"11",name:"Cow cloud Slippers",img:"/fluffy/img/cow-cloud.jpg",cost:750}];function $({openModal:d,slipperData:t,resetSignal:a,category:l}){const[i,n]=o.useState(1),{ref:m,inView:u}=D({threshold:.3});return o.useEffect(()=>{n(1)},[a,l]),e.jsxs("div",{ref:m,className:`grid-item ${u?"visible":""}`,children:[e.jsx("img",{className:"grid-img",onClick:()=>d(t,i),src:t.img,alt:t.name,loading:"lazy"}),e.jsx("p",{className:"cost-p",children:t.cost})]})}$.propTypes={openModal:c.func.isRequired,resetSignal:c.number.isRequired,category:c.string.isRequired,slipperData:c.shape({name:c.string.isRequired,img:c.string.isRequired,cost:c.number.isRequired}).isRequired};const U=[{id:"1",name:"crocodiles",img:"/fluffy/img/crocodile-socks.jpeg",cost:100},{id:"2",name:"bees",img:"/fluffy/img/bee-socks.jpeg",cost:100},{id:"3",name:"sloths",img:"/fluffy/img/sloth-socks.jpeg",cost:100},{id:"4",name:"cows",img:"/fluffy/img/cow-socks.jpeg",cost:100},{id:"5",name:"eggs",img:"/fluffy/img/egg-socks.jpeg",cost:100},{id:"6",name:"kiwi",img:"/fluffy/img/kiwi-socks.jpeg",cost:100},{id:"7",name:"broccoli",img:"/fluffy/img/broccoli-socks.jpeg",cost:100},{id:"8",name:"pineapple",img:"/fluffy/img/pineapple-socks.jpeg",cost:100},{id:"9",name:"unicorn",img:"/fluffy/img/unicorn-socks.jpeg",cost:100},{id:"10",name:"mouse",img:"/fluffy/img/mouse-socks.jpeg",cost:100},{id:"11",name:"flamingo",img:"/fluffy/img/flamingo-socks.jpeg",cost:100},{id:"12",name:"ice cream",img:"/fluffy/img/iceCream-socks.jpeg",cost:100},{id:"13",name:"toucan",img:"/fluffy/img/toucan-socks.jpeg",cost:100}];function C({openModal:d,resetSignal:t}){const[a,l]=o.useState("slippers"),i=m=>{l(m)},n=a==="slippers"?V:U;return e.jsxs(e.Fragment,{children:[e.jsxs(k.div,{className:"catalog-btn",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:[e.jsx("button",{className:`${a==="slippers"?"slippers-active":""}`,onClick:()=>i("slippers"),children:e.jsx("img",{className:"slippers-png",src:"/fluffy/img/slippers.png",alt:"slippers button"})}),e.jsx("p",{children:e.jsx("img",{src:"/fluffy/img/line.png",alt:"border line"})}),e.jsx("button",{className:`${a==="socks"?"socks-active":""}`,onClick:()=>i("socks"),children:e.jsx("img",{className:"sock-png",src:"/fluffy/img/sock.png",alt:"socks button"})})]}),e.jsx("div",{className:"grid-container",children:n.map(m=>e.jsx($,{slipperData:m,openModal:d,resetSignal:t,category:a},m.id))})]})}C.propTypes={openModal:c.func.isRequired,resetSignal:c.func.isRequired,slipperData:c.shape({name:c.string.isRequired,img:c.string.isRequired}).isRequired};function _(){return e.jsxs("div",{id:"carouselExampleAutoplaying",className:"carousel slide","data-bs-ride":"carousel",children:[e.jsxs("div",{className:"carousel-inner",children:[e.jsx("div",{className:"carousel-item active",children:e.jsx("img",{src:"/fluffy/img/dog-img.JPG",className:"d-block w-100",alt:"Dog Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/unicorn-img.JPG",className:"d-block w-100",alt:"Unicorn Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/cow-img.JPG",className:"d-block w-100",alt:"Cow Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/giraffe-img.JPG",className:"d-block w-100",alt:"Giraffe Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/goat-img.JPG",className:"d-block w-100",alt:"Goat Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/bear-img.JPG",className:"d-block w-100",alt:"Bear Slippers"})})]}),e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}function R({type:d,message:t,visible:a,onClose:l}){return o.useEffect(()=>{if(a){const i=setTimeout(l,2e3);return()=>clearTimeout(i)}},[a,l]),a?e.jsxs("div",{className:`global-alert alert-${d}`,children:[e.jsx("svg",{className:"bi flex-shrink-0 me-2",role:"img","aria-label":"Alert:",children:e.jsx("use",{xlinkHref:d==="success"?"#check-circle-fill":"#exclamation-triangle-fill"})}),e.jsx("div",{children:t})]}):null}R.propTypes={type:c.oneOf(["success","warning","error"]).isRequired,message:c.string.isRequired,visible:c.bool.isRequired,onClose:c.func.isRequired};const H={apiKey:"AIzaSyANmsEUokBQsmhHaC3vv-lnaJHDLGgWWP4",authDomain:"fluffy-landing.firebaseapp.com",projectId:"fluffy-landing",storageBucket:"fluffy-landing.firebasestorage.app",messagingSenderId:"1012634706727",appId:"1:1012634706727:web:bd123f58cf78c72c993f02"},W=G(H),Y=M(W);class K{constructor({slipper:t,size:a,name:l,phone:i,city:n,np:m,quantity:u}){this.model=(t==null?void 0:t.name)||"Unknown",this.size=a||"Not selected",this.cost=(t==null?void 0:t.cost)*u,this.city=n,this.np=m,this.name=l,this.phone=i,this.timestamp=new Date().toLocaleString()}toFirebaseObject(){return{selectedModel:this.model,selectedSize:this.size,cost:this.cost,city:this.city,novaPoshta:this.np,name:this.name,phone:this.phone,timestamp:this.timestamp}}}const Q="https://fluffy-server-pi.vercel.app/api/novaposhta",S=async(d,t)=>{try{return(await B.post(Q,{methodName:d,query:t},{headers:{"Content-Type":"application/json"}})).data}catch(a){throw console.error(`Nova Poshta API error (${d}):`,a),a}};function q({closeModal:d,selectedSlipper:t,selectorValue:a}){const[l,i]=o.useState(null),[n,m]=o.useState(""),[u,b]=o.useState(""),[p,f]=o.useState({type:"",message:"",visible:!1}),[g,j]=o.useState(""),[y,h]=o.useState(""),[x,v]=o.useState([]),[P,N]=o.useState(!1),[w,F]=o.useState([]),T=async s=>{try{const r=await S("getWarehouses",{CityRef:s});console.log("Departments Response:",r),r.success&&r.data?F(r.data):console.warn("Failed to get departments",r)}catch(r){console.error("Error fetching departments:",r)}},E=async s=>{if(!(!s||s.length<1))try{const r=await S("getCities",{FindByString:s});console.log("City Fetch Response:",r),r.success&&r.data?v(r.data):console.warn("Failed to get cities",r)}catch(r){console.error("Error fetching cities:",r)}};o.useEffect(()=>{const s=setTimeout(()=>{E(g)},100);return()=>clearTimeout(s)},[g]),o.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const I=async s=>{try{await z(J(Y,"orders"),s),console.log("Data recorded:",s)}catch(r){console.error("Error recording data:",r),f({type:"warning",message:"Виникла помилка при записі данних, будь ласка спробуйте знову",visible:!0})}},A=async()=>{if(!l)f({type:"warning",message:"Будь ласка оберіть розмір!",visible:!0});else if(!y||n.trim()===""||u.trim()===""||g.trim()==="")f({type:"warning",message:"Будь ласка заповніть усі поля та оберіть відділення!",visible:!0});else{const s=new K({slipper:t,size:l,city:g,np:y,name:n.trim(),phone:u.trim(),quantity:a});await I(s.toFirebaseObject()),f({type:"success",message:"Дякуємо за замовлення!",visible:!0}),console.log("Alert Triggered: Thank you for your purchase!"),setTimeout(()=>{d()},1500)}},O=s=>{s.target.classList.contains("modal-container")&&(d(),console.log({selectedSize:l}))};return e.jsxs(e.Fragment,{children:[e.jsx(R,{type:p.type,message:p.message,visible:p.visible,onClose:()=>f({...p,visible:!1})}),e.jsx("div",{className:"modal-container",onClick:O,children:e.jsxs("div",{className:"modal-content",children:[e.jsx("img",{className:"modal-img",src:t.img,alt:t.name}),e.jsx("p",{className:"m-p",children:(t==null?void 0:t.name)||"Unknown Slipper"}),e.jsx("div",{className:"size-container",children:[35,36,37,38,39,40,41,42,43,44,45].map(s=>e.jsx("button",{className:`size-btn ${l===s?"selected":""}`,onClick:()=>i(s),children:s},s))}),e.jsx("input",{className:"top-inp",value:n,type:"text",placeholder:"Прізвище Імʼя",onChange:s=>m(s.target.value),onFocus:()=>{window.scrollBy(0,-150)}}),e.jsx("input",{type:"tel",value:u,placeholder:"Номер телефону",onChange:s=>b(s.target.value),onFocus:()=>{window.scrollBy(0,-150)}}),e.jsx("p",{className:"city-p",children:"* Введіть місто та виберіть відділення Нової Пошти"}),e.jsxs("div",{className:"city-container",children:[e.jsx("input",{className:"city-inp",type:"text",value:g,placeholder:"Введіть міcто",onChange:s=>j(s.target.value),onFocus:()=>{N(!0),window.scrollBy(0,-150)},onBlur:()=>setTimeout(()=>N(!1),100)}),P&&x.length>0&&e.jsx("ul",{className:"city-suggestions",children:x.map((s,r)=>e.jsx("li",{className:"city-suggestion-item",onClick:()=>{j(s.Description),v([]),N(!1),T(s.Ref)},children:s.Description},r))})]}),e.jsx("div",{className:"departament-container",children:(w.length>0||g!=="")&&e.jsx("select",{className:"np",value:y,onChange:s=>h(s.target.value),children:w.length===0?e.jsx("option",{children:"Завантаження відділень..."}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"",disabled:!0,children:"Оберіть відділення"}),w.map((s,r)=>e.jsx("option",{value:s.Description,children:s.Description},r))]})})}),e.jsxs("p",{className:"m-p",children:["Вартість: ",t.cost*a,"грн"]}),e.jsx("button",{className:"submit-btn",type:"button",onClick:A,children:"Підтвердити"})]})})]})}q.propTypes={closeModal:c.func.isRequired,selectedSlipper:c.shape({name:c.string.isRequired,img:c.string.isRequired,cost:c.number.isRequired}).isRequired,selectorValue:c.number.isRequired};function Z(){const t=new Date().getFullYear(),[a,l]=o.useState(!1);o.useEffect(()=>{const h=()=>{window.scrollY>10?l(!0):l(!1)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const[i,n]=o.useState(!1),[m,u]=o.useState(null),[b,p]=o.useState(1),[f,g]=o.useState(0);function j(h,x){u(h),n(!0),p(x),g(v=>v+1)}function y(){n(!1)}return e.jsxs("div",{className:"App",children:[e.jsx("div",{className:`header ${a?"scrolled":""}`,children:e.jsx("header",{className:a?"scrolled":"",children:e.jsx("p",{className:`h-p ${a?"scrolled":""}`,children:"FLUFFY STEPS"})})}),e.jsxs("div",{className:"content",children:[e.jsx(_,{}),e.jsx(k.div,{className:"order-h",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:e.jsx("h1",{children:"Обирай свою пару"})}),e.jsx(C,{openModal:j,resetSignal:f,selectedSlipper:m}),i&&e.jsx(k.div,{initial:{opacity:0,y:-200},animate:{opacity:1,y:0},exit:{opacity:0,y:-200},transition:{type:"spring",stiffness:100,damping:10},className:"modal-container",style:{willChange:"transform, opacity"},children:e.jsx(q,{closeModal:y,selectedSlipper:m,selectorValue:b})})]}),e.jsx("div",{className:"footer",children:e.jsxs("footer",{children:[e.jsxs("p",{className:"f-p",children:["Fluffy Steps ©2024-",t]}),e.jsxs("div",{className:"btn-div",children:[e.jsxs("button",{className:"Inst-btn",onClick:()=>setTimeout(()=>{window.open("https://www.instagram.com/fluffy_steps?igsh=MTNiZXp1a3hremt0eQ==","_blank","noopener,noreferrer")},400),children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{fill:"#c1b6a2",className:"svgIcon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"})})}),e.jsx("span",{className:"Bg"})]}),e.jsxs("button",{className:"TikTok-btn",onClick:()=>{setTimeout(()=>{window.open("https://www.tiktok.com/@fluffy_steps","_blank","noopener,noreferrer")},500)},children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{style:{textAlign:"center"},className:"svgIcon",viewBox:"0 0 23 25",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fill:"#c1b6a2",transform:"translate(-31.423 -0.39)",d:"M51.151,6.015a5.661,5.661,0,0,1-3.42-1.143A5.662,5.662,0,0,1,45.469.39H41.8V10.414l0,5.49a3.325,3.325,0,1,1-2.281-3.151V9.029a7.218,7.218,0,0,0-1.058-.078,7.034,7.034,0,0,0-5.286,2.364,6.893,6.893,0,0,0,.311,9.505,7.158,7.158,0,0,0,.663.579,7.035,7.035,0,0,0,4.312,1.458,7.219,7.219,0,0,0,1.058-.078,7.011,7.011,0,0,0,3.917-1.959,6.868,6.868,0,0,0,2.06-4.887l-.019-8.2a9.3,9.3,0,0,0,5.688,1.933V6.014h-.011Z"})})}),e.jsx("span",{className:"Bg-tt"})]})]})]})})]})}L.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Z,{})}));
