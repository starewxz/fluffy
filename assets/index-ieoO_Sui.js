import{j as e,P as r,r as l,u as X,m as S,i as Z,g as ee,a as se,b as te,c as ie,B as ne,R as ae,d as E,e as re,C as oe}from"./vendor-ByY1Q5h0.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function a(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(i){if(i.ep)return;i.ep=!0;const u=a(i);fetch(i.href,u)}})();const D=[{id:"1",name:"Собачки світлі",img:"/fluffy/img/dog-img.JPG",cost:699},{id:"2",name:"Єдинороги рожеві",img:"/fluffy/img/unicorn-img.JPG",cost:799},{id:"3",name:"Жирафи",img:"/fluffy/img/giraffe-img.JPG",cost:699},{id:"4",name:"Єдинороги білі",img:"/fluffy/img/goat2.jpg",cost:749},{id:"5",name:"Ведмедики пухнасті",img:"/fluffy/img/bear-img.JPG",cost:749},{id:"6",name:"Корівки пухнасті",img:"/fluffy/img/cow-img.JPG",cost:699},{id:"7",name:"Корівки відкриті",img:"/fluffy/img/cow-velvet.jpg",cost:349},{id:"8",name:"Корівки закриті",img:"/fluffy/img/cow-velvet2.jpg",cost:349},{id:"9",name:"Темні дракончики",img:"/fluffy/img/dinosaur.jpg",cost:799},{id:"10",name:"Ведмедики класичні",img:"/fluffy/img/bear2.jpg",cost:499},{id:"11",name:"Cow cloud Slippers",img:"/fluffy/img/cow-cloud.jpg",cost:750}];function ce(){return e.jsxs("div",{id:"carouselExampleAutoplaying",className:"carousel slide","data-bs-ride":"carousel",children:[e.jsx("div",{className:"carousel-inner",children:D.map((t,s)=>e.jsx("div",{className:`carousel-item${s===0?" active":""}`,children:e.jsx("img",{src:t.img,className:"d-block w-100",alt:t.name})},t.id))}),e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-prev-icon","aria-hidden":"true",children:e.jsx("img",{alt:"previous",src:"/fluffy/img/right-arrow.png",style:{transform:"scaleX(-1)"}})}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-next-icon","aria-hidden":"true",children:e.jsx("img",{alt:"next",src:"/fluffy/img/right-arrow.png"})}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}function O({openModal:t,slipperData:s,resetSignal:a,category:o}){const[i,u]=l.useState(1),{ref:m,inView:g}=X({threshold:.3});return l.useEffect(()=>{u(1)},[a,o]),e.jsxs("div",{ref:m,className:`grid-item ${g?"visible":""}`,children:[e.jsx("img",{className:"grid-img",onClick:()=>t(s,i),src:s.img,alt:s.name,loading:"lazy"}),e.jsx("p",{className:"cost-p",children:s.cost})]})}O.propTypes={openModal:r.func.isRequired,resetSignal:r.number.isRequired,category:r.string.isRequired,slipperData:r.shape({name:r.string.isRequired,img:r.string.isRequired,cost:r.number.isRequired}).isRequired};const le=[{id:"1",name:"crocodiles",img:"/fluffy/img/crocodile-socks.jpeg",cost:100},{id:"2",name:"bees",img:"/fluffy/img/bee-socks.jpeg",cost:100},{id:"3",name:"sloths",img:"/fluffy/img/sloth-socks.jpeg",cost:100},{id:"4",name:"cows",img:"/fluffy/img/cow-socks.jpeg",cost:100},{id:"5",name:"eggs",img:"/fluffy/img/egg-socks.jpeg",cost:100},{id:"6",name:"kiwi",img:"/fluffy/img/kiwi-socks.jpeg",cost:100},{id:"7",name:"broccoli",img:"/fluffy/img/broccoli-socks.jpeg",cost:100},{id:"8",name:"pineapple",img:"/fluffy/img/pineapple-socks.jpeg",cost:100},{id:"9",name:"unicorn",img:"/fluffy/img/unicorn-socks.jpeg",cost:100},{id:"10",name:"mouse",img:"/fluffy/img/mouse-socks.jpeg",cost:100},{id:"11",name:"flamingo",img:"/fluffy/img/flamingo-socks.jpeg",cost:100},{id:"12",name:"ice cream",img:"/fluffy/img/iceCream-socks.jpeg",cost:100},{id:"13",name:"toucan",img:"/fluffy/img/toucan-socks.jpeg",cost:100}];function A({openModal:t,resetSignal:s}){const[a,o]=l.useState("slippers"),i=m=>{o(m)},u=a==="slippers"?D:le;return e.jsxs(e.Fragment,{children:[e.jsxs(S.div,{className:"catalog-btn",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:[e.jsx("button",{className:`${a==="slippers"?"slippers-active":""}`,onClick:()=>i("slippers"),children:e.jsx("img",{className:"slippers-png",src:"/fluffy/img/slippers.png",alt:"slippers button"})}),e.jsx("p",{children:e.jsx("img",{src:"/fluffy/img/line.png",alt:"border line"})}),e.jsx("button",{className:`${a==="socks"?"socks-active":""}`,onClick:()=>i("socks"),children:e.jsx("img",{className:"sock-png",src:"/fluffy/img/sock.png",alt:"socks button"})})]}),e.jsx("div",{className:"grid-container",children:u.map(m=>e.jsx(O,{slipperData:m,openModal:t,resetSignal:s,category:a},m.id))})]})}A.propTypes={openModal:r.func.isRequired,resetSignal:r.func.isRequired};function z({type:t,message:s,visible:a,onClose:o}){return l.useEffect(()=>{if(a){const i=setTimeout(o,2e3);return()=>clearTimeout(i)}},[a,o]),a?e.jsxs("div",{className:`global-alert alert-${t}`,children:[e.jsx("svg",{className:"bi flex-shrink-0 me-2",role:"img","aria-label":"Alert:",children:e.jsx("use",{xlinkHref:t==="success"?"#check-circle-fill":"#exclamation-triangle-fill"})}),e.jsx("div",{children:s})]}):null}z.propTypes={type:r.oneOf(["success","warning","error"]).isRequired,message:r.string.isRequired,visible:r.bool.isRequired,onClose:r.func.isRequired};const ue={apiKey:"AIzaSyANmsEUokBQsmhHaC3vv-lnaJHDLGgWWP4",authDomain:"fluffy-landing.firebaseapp.com",projectId:"fluffy-landing",storageBucket:"fluffy-landing.firebasestorage.app",messagingSenderId:"1012634706727",appId:"1:1012634706727:web:bd123f58cf78c72c993f02"},me=Z(ue),de=ee(me);class fe{constructor({slipper:s,size:a,name:o,phone:i,city:u,np:m,quantity:g}){this.model=(s==null?void 0:s.name)||"Unknown",this.size=a||"Not selected",this.cost=(s==null?void 0:s.cost)*g,this.city=u,this.np=m,this.name=o,this.phone=i,this.timestamp=new Date().toLocaleString()}toFirebaseObject(){return{selectedModel:this.model,selectedSize:this.size,cost:this.cost,city:this.city,novaPoshta:this.np,name:this.name,phone:this.phone,timestamp:this.timestamp}}}const pe="https://fluffy-server-pi.vercel.app/api/novaposhta",B=async(t,s)=>{try{return(await se.post(pe,{methodName:t,query:s})).data}catch(a){throw console.error(`Nova Poshta API error (${t}):`,a),a}},ge=async t=>{if(!t||t.trim().length<1)return[];const s=await B("getCities",{FindByString:t});return s.success&&s.data?s.data:(console.warn("Failed to fetch cities",s),[])},he=async t=>{if(!t)return[];const s=await B("getWarehouses",{CityRef:t});return s.success&&s.data?s.data:(console.warn("Failed to fetch departments",s),[])};function M({description:t,onSelect:s}){return e.jsx("li",{className:"city-suggestion-item",onClick:()=>s(t),children:t})}M.propTypes={description:r.string,onSelect:r.func};function L({departments:t,selectedDepartment:s,onChange:a,className:o}){return t.length?e.jsxs("select",{className:o,value:s,onChange:i=>a(i.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Оберіть відділення"}),t.map((i,u)=>e.jsx("option",{value:i.Description,children:i.Description},u))]}):e.jsx("select",{className:`np ${o}`,disabled:!0,children:e.jsx("option",{children:"Завантаження відділень..."})})}L.propTypes={departments:r.array.isRequired,onChange:r.func.isRequired,selectedDepartment:r.string.isRequired,className:r.string};function V({selectedSize:t,onSelect:s}){const a=[35,36,37,38,39,40,41,42,43,44,45];return e.jsx("div",{className:"size-container",children:a.map(o=>e.jsx("button",{className:`size-btn ${t===o?"selected":""}`,onClick:()=>s(o),children:o},o))})}V.propTypes={selectedSize:r.number.isRequired,onSelect:r.func.isRequired};function G({closeModal:t,selectedSlipper:s,selectorValue:a}){const o=l.useRef(null),i=l.useRef(null),u=l.useRef(null),[m,g]=l.useState(null),[h,v]=l.useState(""),[y,b]=l.useState(""),[f,d]=l.useState({type:"",message:"",visible:!1}),[p,k]=l.useState(""),[w,$]=l.useState(""),[C,R]=l.useState([]),[J,N]=l.useState(!1),[q,_]=l.useState([]),[x,j]=l.useState({name:!1,number:!1,city:!1,departament:!1}),H=async n=>{try{const c=await ge(n);R(c)}catch(c){console.error("Error in fetchCities:",c)}},U=async n=>{try{const c=await he(n);_(c)}catch(c){console.error("Error in fetchDepartments:",c)}};l.useEffect(()=>{const n=setTimeout(()=>{H(p)},100);return()=>clearTimeout(n)},[p]),l.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const W=async n=>{try{await te(ie(de,"orders"),n),console.log("Data recorded:",n)}catch(c){console.error("Error recording data:",c),d({type:"warning",message:"Виникла помилка при записі данних, будь ласка спробуйте знову",visible:!0})}},Y=async()=>{var F,T,I;let n=!1;const c={name:!1,number:!1,city:!1,departament:!1};if(!m){d({type:"warning",message:"Будь ласка оберіть розмір!",visible:!0});return}if(h.trim()===""?(c.name=!0,(F=o.current)==null||F.focus(),d({type:"warning",message:"Будь ласка введіть імʼя!",visible:!0}),n=!0):y.trim()===""?(c.number=!0,(T=i.current)==null||T.focus(),d({type:"warning",message:"Будь ласка введіть номер телефону!",visible:!0}),n=!0):p.trim()===""?(c.city=!0,(I=u.current)==null||I.focus(),d({type:"warning",message:"Будь ласка введіть місто!",visible:!0}),n=!0):w||(d({type:"warning",message:"Будь ласка оберіть відділення!",visible:!0}),n=!0,c.departament=!0),j(c),n)return;const Q=new fe({slipper:s,size:m,city:p,np:w,name:h.trim(),phone:y.trim(),quantity:a});await W(Q.toFirebaseObject()),d({type:"success",message:"Дякуємо за замовлення!",visible:!0}),console.info("Alert Triggered: Thank you for your purchase!"),setTimeout(()=>{t()},1500)},K=n=>{n.target.classList.contains("modal-container")&&(t(),console.log({selectedSize:m}))};return e.jsxs(e.Fragment,{children:[e.jsx(z,{type:f.type,message:f.message,visible:f.visible,onClose:()=>d({...f,visible:!1})}),e.jsx("div",{className:"modal-container",onClick:K,children:e.jsxs("div",{className:"modal-content",children:[e.jsx("img",{className:"modal-img",src:s.img,alt:s.name}),e.jsx("p",{className:"m-p",children:(s==null?void 0:s.name)||"Unknown Slipper"}),e.jsx(V,{selectedSize:m,onSelect:g}),e.jsx("input",{ref:o,className:`top-inp ${x.name?"invalid-input":""}`,value:h,type:"text",placeholder:"Прізвище Імʼя",onChange:n=>{v(n.target.value),j(c=>({...c,name:!1}))},onFocus:()=>window.scrollBy(0,-150)}),e.jsx("input",{ref:i,className:`top-inp ${x.number?"invalid-input":""}`,type:"tel",value:y,placeholder:"Номер телефону",onChange:n=>{b(n.target.value),j(c=>({...c,number:!1}))},onFocus:()=>window.scrollBy(0,-150)}),e.jsx("p",{className:"city-p",children:"* Введіть місто та виберіть відділення Нової Пошти"}),e.jsxs("div",{className:"city-container",children:[e.jsx("input",{ref:u,className:`city-inp ${x.city?"invalid-input":""}`,type:"text",value:p,placeholder:"Введіть міcто",onChange:n=>{k(n.target.value),j(c=>({...c,city:!1}))},onFocus:()=>{N(!0),window.scrollBy(0,-150)},onBlur:()=>setTimeout(()=>N(!1),100)}),J&&C.length>0&&e.jsx("ul",{className:"city-suggestions",children:C.map((n,c)=>e.jsx(M,{description:n.Description,onSelect:()=>{k(n.Description),R([]),N(!1),U(n.Ref),$("")}},c))})]}),e.jsx("div",{className:"departament-container",children:(q.length>0||p!=="")&&e.jsx(L,{className:`np ${x.departament?"invalid-input":""}`,departments:q,selectedDepartment:w,onChange:n=>{$(n),j(c=>({...c,departament:!1}))}})}),e.jsxs("p",{className:"m-p",children:["Вартість: ",s.cost*a,"грн"]}),e.jsx("button",{className:"submit-btn",type:"button",onClick:Y,children:"Підтвердити"})]})})]})}G.propTypes={closeModal:r.func.isRequired,selectedSlipper:r.shape({name:r.string.isRequired,img:r.string.isRequired,cost:r.number.isRequired}).isRequired,selectorValue:r.number.isRequired};const ye=()=>{const s=new Date().getFullYear();return e.jsx("div",{className:"footer",children:e.jsxs("footer",{children:[e.jsxs("p",{className:"f-p",children:["Fluffy Steps ©2024-",s]}),e.jsxs("div",{className:"btn-div",children:[e.jsxs("button",{className:"Inst-btn",onClick:()=>setTimeout(()=>{window.open("https://www.instagram.com/fluffy_steps?igsh=MTNiZXp1a3hremt0eQ==","_blank","noopener,noreferrer")},400),children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{fill:"#c1b6a2",className:"svgIcon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"})})}),e.jsx("span",{className:"Bg"})]}),e.jsxs("button",{className:"TikTok-btn",onClick:()=>{setTimeout(()=>{window.open("https://www.tiktok.com/@fluffy_steps","_blank","noopener,noreferrer")},500)},children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{style:{textAlign:"center"},className:"svgIcon",viewBox:"0 0 23 25",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fill:"#c1b6a2",transform:"translate(-31.423 -0.39)",d:"M51.151,6.015a5.661,5.661,0,0,1-3.42-1.143A5.662,5.662,0,0,1,45.469.39H41.8V10.414l0,5.49a3.325,3.325,0,1,1-2.281-3.151V9.029a7.218,7.218,0,0,0-1.058-.078,7.034,7.034,0,0,0-5.286,2.364,6.893,6.893,0,0,0,.311,9.505,7.158,7.158,0,0,0,.663.579,7.035,7.035,0,0,0,4.312,1.458,7.219,7.219,0,0,0,1.058-.078,7.011,7.011,0,0,0,3.917-1.959,6.868,6.868,0,0,0,2.06-4.887l-.019-8.2a9.3,9.3,0,0,0,5.688,1.933V6.014h-.011Z"})})}),e.jsx("span",{className:"Bg-tt"})]})]})]})})},P=()=>{const[t,s]=l.useState(!1);l.useEffect(()=>{const f=()=>{window.scrollY>10?s(!0):s(!1)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const[a,o]=l.useState(!1),[i,u]=l.useState(null),[m,g]=l.useState(1),[h,v]=l.useState(0);function y(f,d){u(f),o(!0),g(d),v(p=>p+1)}function b(){o(!1)}return e.jsxs("div",{className:"App",children:[e.jsx("div",{className:`header ${t?"scrolled":""}`,children:e.jsx("header",{className:t?"scrolled":"",children:e.jsx("p",{className:`h-p ${t?"scrolled":""}`,children:"FLUFFY STEPS"})})}),e.jsxs("div",{className:"content",children:[e.jsx(ce,{}),e.jsx(S.div,{className:"order-h",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:e.jsx("h1",{children:"Обирай свою пару"})}),e.jsx(A,{openModal:y,resetSignal:h,selectedSlipper:i}),a&&e.jsx(S.div,{initial:{opacity:0,y:-200},animate:{opacity:1,y:0},exit:{opacity:0,y:-200},transition:{type:"spring",stiffness:100,damping:10},className:"modal-container",style:{willChange:"transform, opacity"},children:e.jsx(G,{closeModal:b,selectedSlipper:i,selectorValue:m})})]}),e.jsx(ye,{})]})},je=()=>e.jsx(ne,{children:e.jsxs(ae,{children:[e.jsx(E,{path:"/",element:e.jsx(P,{})}),e.jsx(E,{path:"/fluffy",element:e.jsx(P,{})})]})});re.createRoot(document.getElementById("root")).render(e.jsx(oe,{children:e.jsx(je,{})}));
