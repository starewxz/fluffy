import{P as o,r as n,u as A,j as e,m as k,i as G,g as M,a as B,c as J,b as z}from"./vendor-q62_KkwI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function c(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=c(i);fetch(i.href,a)}})();const L=[{id:"1",name:"Собачки світлі",img:"/fluffy/img/dog-img.JPG",cost:699},{id:"2",name:"Єдинороги рожеві",img:"/fluffy/img/unicorn-img.JPG",cost:799},{id:"3",name:"Жирафи",img:"/fluffy/img/giraffe-img.JPG",cost:699},{id:"4",name:"Єдинороги білі",img:"/fluffy/img/goat2.jpg",cost:749},{id:"5",name:"Ведмедики пухнасті",img:"/fluffy/img/bear-img.JPG",cost:749},{id:"6",name:"Корівки пухнасті",img:"/fluffy/img/cow-img.JPG",cost:699},{id:"7",name:"Корівки відкриті",img:"/fluffy/img/cow-velvet.jpg",cost:349},{id:"8",name:"Корівки закриті",img:"/fluffy/img/cow-velvet2.jpg",cost:349},{id:"9",name:"Темні дракончики",img:"/fluffy/img/dinosaur.jpg",cost:799},{id:"10",name:"Ведмедики класичні",img:"/fluffy/img/bear2.jpg",cost:499},{id:"11",name:"Cow cloud Slippers",img:"/fluffy/img/cow-cloud.jpg",cost:750}];function $({openModal:m,slipperData:t,resetSignal:c,category:r}){const[i,a]=n.useState(1),{ref:l,inView:g}=A({threshold:.3});return n.useEffect(()=>{a(1)},[c,r]),e.jsxs("div",{ref:l,className:`grid-item ${g?"visible":""}`,children:[e.jsx("img",{className:"grid-img",onClick:()=>m(t,i),src:t.img,alt:t.name,loading:"lazy"}),e.jsx("p",{className:"cost-p",children:t.cost})]})}$.propTypes={openModal:o.func.isRequired,resetSignal:o.number.isRequired,category:o.string.isRequired,slipperData:o.shape({name:o.string.isRequired,img:o.string.isRequired,cost:o.number.isRequired}).isRequired};const V=[{id:"1",name:"crocodiles",img:"/fluffy/img/crocodile-socks.jpeg",cost:100},{id:"2",name:"bees",img:"/fluffy/img/bee-socks.jpeg",cost:100},{id:"3",name:"sloths",img:"/fluffy/img/sloth-socks.jpeg",cost:100},{id:"4",name:"cows",img:"/fluffy/img/cow-socks.jpeg",cost:100},{id:"5",name:"eggs",img:"/fluffy/img/egg-socks.jpeg",cost:100},{id:"6",name:"kiwi",img:"/fluffy/img/kiwi-socks.jpeg",cost:100},{id:"7",name:"broccoli",img:"/fluffy/img/broccoli-socks.jpeg",cost:100},{id:"8",name:"pineapple",img:"/fluffy/img/pineapple-socks.jpeg",cost:100},{id:"9",name:"unicorn",img:"/fluffy/img/unicorn-socks.jpeg",cost:100},{id:"10",name:"mouse",img:"/fluffy/img/mouse-socks.jpeg",cost:100},{id:"11",name:"flamingo",img:"/fluffy/img/flamingo-socks.jpeg",cost:100},{id:"12",name:"ice cream",img:"/fluffy/img/iceCream-socks.jpeg",cost:100},{id:"13",name:"toucan",img:"/fluffy/img/toucan-socks.jpeg",cost:100}];function C({openModal:m,resetSignal:t}){const[c,r]=n.useState("slippers"),i=l=>{r(l)},a=c==="slippers"?L:V;return e.jsxs(e.Fragment,{children:[e.jsxs(k.div,{className:"catalog-btn",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:[e.jsx("button",{className:`${c==="slippers"?"slippers-active":""}`,onClick:()=>i("slippers"),children:e.jsx("img",{className:"slippers-png",src:"/fluffy/img/slippers.png",alt:"slippers button"})}),e.jsx("p",{children:e.jsx("img",{src:"/fluffy/img/line.png",alt:"border line"})}),e.jsx("button",{className:`${c==="socks"?"socks-active":""}`,onClick:()=>i("socks"),children:e.jsx("img",{className:"sock-png",src:"/fluffy/img/sock.png",alt:"socks button"})})]}),e.jsx("div",{className:"grid-container",children:a.map(l=>e.jsx($,{slipperData:l,openModal:m,resetSignal:t,category:c},l.id))})]})}C.propTypes={openModal:o.func.isRequired,resetSignal:o.func.isRequired,slipperData:o.shape({name:o.string.isRequired,img:o.string.isRequired}).isRequired};function U(){return e.jsxs("div",{id:"carouselExampleAutoplaying",className:"carousel slide","data-bs-ride":"carousel",children:[e.jsxs("div",{className:"carousel-inner",children:[e.jsx("div",{className:"carousel-item active",children:e.jsx("img",{src:"/fluffy/img/dog-img.JPG",className:"d-block w-100",alt:"Dog Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/unicorn-img.JPG",className:"d-block w-100",alt:"Unicorn Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/cow-img.JPG",className:"d-block w-100",alt:"Cow Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/giraffe-img.JPG",className:"d-block w-100",alt:"Giraffe Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/goat-img.JPG",className:"d-block w-100",alt:"Goat Slippers"})}),e.jsx("div",{className:"carousel-item",children:e.jsx("img",{src:"/fluffy/img/bear-img.JPG",className:"d-block w-100",alt:"Bear Slippers"})})]}),e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}function R({type:m,message:t,visible:c,onClose:r}){return n.useEffect(()=>{if(c){const i=setTimeout(r,2e3);return()=>clearTimeout(i)}},[c,r]),c?e.jsxs("div",{className:`global-alert alert-${m}`,children:[e.jsx("svg",{className:"bi flex-shrink-0 me-2",role:"img","aria-label":"Alert:",children:e.jsx("use",{xlinkHref:m==="success"?"#check-circle-fill":"#exclamation-triangle-fill"})}),e.jsx("div",{children:t})]}):null}R.propTypes={type:o.oneOf(["success","warning","error"]).isRequired,message:o.string.isRequired,visible:o.bool.isRequired,onClose:o.func.isRequired};const H={apiKey:"AIzaSyANmsEUokBQsmhHaC3vv-lnaJHDLGgWWP4",authDomain:"fluffy-landing.firebaseapp.com",projectId:"fluffy-landing",storageBucket:"fluffy-landing.firebasestorage.app",messagingSenderId:"1012634706727",appId:"1:1012634706727:web:bd123f58cf78c72c993f02"},_=G(H),W=M(_);class Y{constructor({slipper:t,size:c,name:r,phone:i,city:a,np:l,quantity:g}){this.model=(t==null?void 0:t.name)||"Unknown",this.size=c||"Not selected",this.cost=(t==null?void 0:t.cost)*g,this.city=a,this.np=l,this.name=r,this.phone=i,this.timestamp=new Date().toLocaleString()}toFirebaseObject(){return{selectedModel:this.model,selectedSize:this.size,cost:this.cost,city:this.city,novaPoshta:this.np,name:this.name,phone:this.phone,timestamp:this.timestamp}}}function q({closeModal:m,selectedSlipper:t,selectorValue:c}){const[r,i]=n.useState(null),[a,l]=n.useState(""),[g,N]=n.useState(""),[p,h]=n.useState({type:"",message:"",visible:!1}),[f,x]=n.useState(""),[j,y]=n.useState(""),[v,b]=n.useState([]),[T,w]=n.useState(!1),[S,F]=n.useState([]),P=async s=>{try{const u=await(await fetch("https://fluffy-server-pi.vercel.app/api/novaposhta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({methodName:"getWarehouses",query:{CityRef:s}})})).json();console.log("Departments Response:",u),u.success&&u.data?F(u.data):console.warn("Failed to get departments",u)}catch(d){console.error("Error fetching departments:",d)}},E=async s=>{if(!(!s||s.length<1))try{const u=await(await fetch("https://fluffy-server-pi.vercel.app/api/novaposhta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({methodName:"getCities",query:{FindByString:s}})})).json();console.log("City Fetch Response:",u),u.success&&u.data?b(u.data):console.warn("Failed to get cities",u)}catch(d){console.error("Error fetching cities:",d)}};n.useEffect(()=>{const s=setTimeout(()=>{E(f)},100);return()=>clearTimeout(s)},[f]),n.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const O=async s=>{try{await B(J(W,"orders"),s),console.log("Data recorded:",s)}catch(d){console.error("Error recording data:",d)}},I=async()=>{if(!r)h({type:"warning",message:"Будь ласка оберіть розмір!",visible:!0});else if(!j||a.trim()===""||g.trim()===""||f.trim()==="")h({type:"warning",message:"Будь ласка заповніть усі поля та оберіть відділення!",visible:!0});else{const s=new Y({slipper:t,size:r,city:f,np:j,name:a.trim(),phone:g.trim(),quantity:c});await O(s.toFirebaseObject()),h({type:"success",message:"Дякуємо за замовлення!",visible:!0}),console.log("Alert Triggered: Thank you for your purchase!"),setTimeout(()=>{m()},1500)}},D=s=>{s.target.classList.contains("modal-container")&&(m(),console.log({selectedSize:r}))};return e.jsxs(e.Fragment,{children:[e.jsx(R,{type:p.type,message:p.message,visible:p.visible,onClose:()=>h({...p,visible:!1})}),e.jsx("div",{className:"modal-container",onClick:D,children:e.jsxs("div",{className:"modal-content",children:[e.jsx("img",{className:"modal-img",src:t.img,alt:t.name}),e.jsx("p",{className:"m-p",children:(t==null?void 0:t.name)||"Unknown Slipper"}),e.jsx("div",{className:"size-container",children:[35,36,37,38,39,40,41,42,43,44,45].map(s=>e.jsx("button",{className:`size-btn ${r===s?"selected":""}`,onClick:()=>i(s),children:s},s))}),e.jsx("input",{className:"top-inp",value:a,type:"text",placeholder:"Прізвище Імʼя",onChange:s=>l(s.target.value),onFocus:()=>{window.scrollBy(0,-150)}}),e.jsx("input",{type:"tel",value:g,placeholder:"Номер телефону",onChange:s=>N(s.target.value),onFocus:()=>{window.scrollBy(0,-150)}}),e.jsx("p",{className:"city-p",children:"* Введіть місто та виберіть відділення Нової Пошти"}),e.jsxs("div",{className:"city-container",children:[e.jsx("input",{className:"city-inp",type:"text",value:f,placeholder:"Введіть міcто",onChange:s=>x(s.target.value),onFocus:()=>{w(!0),window.scrollBy(0,-150)},onBlur:()=>setTimeout(()=>w(!1),100)}),T&&v.length>0&&e.jsx("ul",{className:"city-suggestions",children:v.map((s,d)=>e.jsx("li",{className:"city-suggestion-item",onClick:()=>{x(s.Description),b([]),w(!1),P(s.Ref)},children:s.Description},d))})]}),e.jsx("div",{className:"departament-container",children:(S.length>0||f!=="")&&e.jsx("select",{className:"np",value:j,onChange:s=>y(s.target.value),children:S.length===0?e.jsx("option",{children:"Завантаження відділень..."}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"",disabled:!0,children:"Оберіть відділення"}),S.map((s,d)=>e.jsx("option",{value:s.Description,children:s.Description},d))]})})}),e.jsxs("p",{className:"m-p",children:["Вартість: ",t.cost*c,"грн"]}),e.jsx("button",{className:"submit-btn",type:"button",onClick:I,children:"Підтвердити"})]})})]})}q.propTypes={closeModal:o.func.isRequired,selectedSlipper:o.shape({name:o.string.isRequired,img:o.string.isRequired,cost:o.number.isRequired}).isRequired,selectorValue:o.number.isRequired};function K(){const t=new Date().getFullYear(),[c,r]=n.useState(!1);n.useEffect(()=>{const y=()=>{window.scrollY>10?r(!0):r(!1)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const[i,a]=n.useState(!1),[l,g]=n.useState(null),[N,p]=n.useState(1),[h,f]=n.useState(0);function x(y,v){g(y),a(!0),p(v),f(b=>b+1)}function j(){a(!1)}return e.jsxs("div",{className:"App",children:[e.jsx("div",{className:`header ${c?"scrolled":""}`,children:e.jsx("header",{className:c?"scrolled":"",children:e.jsx("p",{className:`h-p ${c?"scrolled":""}`,children:"FLUFFY STEPS"})})}),e.jsxs("div",{className:"content",children:[e.jsx(U,{}),e.jsx(k.div,{className:"order-h",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:e.jsx("h1",{children:"Обирай свою пару"})}),e.jsx(C,{openModal:x,resetSignal:h,selectedSlipper:l}),i&&e.jsx(k.div,{initial:{opacity:0,y:-200},animate:{opacity:1,y:0},exit:{opacity:0,y:-200},transition:{type:"spring",stiffness:100,damping:10},className:"modal-container",style:{willChange:"transform, opacity"},children:e.jsx(q,{closeModal:j,selectedSlipper:l,selectorValue:N})})]}),e.jsx("div",{className:"footer",children:e.jsxs("footer",{children:[e.jsxs("p",{className:"f-p",children:["Fluffy Steps ©2024-",t]}),e.jsxs("div",{className:"btn-div",children:[e.jsxs("button",{className:"Inst-btn",onClick:()=>setTimeout(()=>{window.open("https://www.instagram.com/fluffy_steps?igsh=MTNiZXp1a3hremt0eQ==","_blank","noopener,noreferrer")},400),children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{fill:"#c1b6a2",className:"svgIcon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"})})}),e.jsx("span",{className:"Bg"})]}),e.jsxs("button",{className:"TikTok-btn",onClick:()=>{setTimeout(()=>{window.open("https://www.tiktok.com/@fluffy_steps","_blank","noopener,noreferrer")},500)},children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{style:{textAlign:"center"},className:"svgIcon",viewBox:"0 0 23 25",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fill:"#c1b6a2",transform:"translate(-31.423 -0.39)",d:"M51.151,6.015a5.661,5.661,0,0,1-3.42-1.143A5.662,5.662,0,0,1,45.469.39H41.8V10.414l0,5.49a3.325,3.325,0,1,1-2.281-3.151V9.029a7.218,7.218,0,0,0-1.058-.078,7.034,7.034,0,0,0-5.286,2.364,6.893,6.893,0,0,0,.311,9.505,7.158,7.158,0,0,0,.663.579,7.035,7.035,0,0,0,4.312,1.458,7.219,7.219,0,0,0,1.058-.078,7.011,7.011,0,0,0,3.917-1.959,6.868,6.868,0,0,0,2.06-4.887l-.019-8.2a9.3,9.3,0,0,0,5.688,1.933V6.014h-.011Z"})})}),e.jsx("span",{className:"Bg-tt"})]})]})]})})]})}z.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(K,{})}));
