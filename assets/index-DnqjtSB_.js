import{j as e,P as o,r as l,u as G,m as b,i as J,g as _,a as H,b as U,c as W,B as Y,R as K,d as k,e as Q,C as X}from"./vendor-ByY1Q5h0.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function a(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=a(i);fetch(i.href,r)}})();const $=[{id:"1",name:"Собачки світлі",img:"/fluffy/img/dog-img.JPG",cost:699},{id:"2",name:"Єдинороги рожеві",img:"/fluffy/img/unicorn-img.JPG",cost:799},{id:"3",name:"Жирафи",img:"/fluffy/img/giraffe-img.JPG",cost:699},{id:"4",name:"Єдинороги білі",img:"/fluffy/img/goat2.jpg",cost:749},{id:"5",name:"Ведмедики пухнасті",img:"/fluffy/img/bear-img.JPG",cost:749},{id:"6",name:"Корівки пухнасті",img:"/fluffy/img/cow-img.JPG",cost:699},{id:"7",name:"Корівки відкриті",img:"/fluffy/img/cow-velvet.jpg",cost:349},{id:"8",name:"Корівки закриті",img:"/fluffy/img/cow-velvet2.jpg",cost:349},{id:"9",name:"Темні дракончики",img:"/fluffy/img/dinosaur.jpg",cost:799},{id:"10",name:"Ведмедики класичні",img:"/fluffy/img/bear2.jpg",cost:499},{id:"11",name:"Cow cloud Slippers",img:"/fluffy/img/cow-cloud.jpg",cost:750}];function Z(){return e.jsxs("div",{id:"carouselExampleAutoplaying",className:"carousel slide","data-bs-ride":"carousel",children:[e.jsx("div",{className:"carousel-inner",children:$.map((t,s)=>e.jsx("div",{className:`carousel-item${s===0?" active":""}`,children:e.jsx("img",{src:t.img,className:"d-block w-100",alt:t.name})},t.id))}),e.jsxs("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[e.jsx("span",{className:"carousel-prev-icon","aria-hidden":"true",children:e.jsx("img",{alt:"previous",src:"/fluffy/img/right-arrow.png",style:{transform:"scaleX(-1)"}})}),e.jsx("span",{className:"visually-hidden",children:"Previous"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[e.jsx("span",{className:"carousel-next-icon","aria-hidden":"true",children:e.jsx("img",{alt:"next",src:"/fluffy/img/right-arrow.png"})}),e.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}function R({openModal:t,slipperData:s,resetSignal:a,category:n}){const[i,r]=l.useState(1),{ref:m,inView:u}=G({threshold:.3});return l.useEffect(()=>{r(1)},[a,n]),e.jsxs("div",{ref:m,className:`grid-item ${u?"visible":""}`,children:[e.jsx("img",{className:"grid-img",onClick:()=>t(s,i),src:s.img,alt:s.name,loading:"lazy"}),e.jsx("p",{className:"cost-p",children:s.cost})]})}R.propTypes={openModal:o.func.isRequired,resetSignal:o.number.isRequired,category:o.string.isRequired,slipperData:o.shape({name:o.string.isRequired,img:o.string.isRequired,cost:o.number.isRequired}).isRequired};const ee=[{id:"1",name:"crocodiles",img:"/fluffy/img/crocodile-socks.jpeg",cost:100},{id:"2",name:"bees",img:"/fluffy/img/bee-socks.jpeg",cost:100},{id:"3",name:"sloths",img:"/fluffy/img/sloth-socks.jpeg",cost:100},{id:"4",name:"cows",img:"/fluffy/img/cow-socks.jpeg",cost:100},{id:"5",name:"eggs",img:"/fluffy/img/egg-socks.jpeg",cost:100},{id:"6",name:"kiwi",img:"/fluffy/img/kiwi-socks.jpeg",cost:100},{id:"7",name:"broccoli",img:"/fluffy/img/broccoli-socks.jpeg",cost:100},{id:"8",name:"pineapple",img:"/fluffy/img/pineapple-socks.jpeg",cost:100},{id:"9",name:"unicorn",img:"/fluffy/img/unicorn-socks.jpeg",cost:100},{id:"10",name:"mouse",img:"/fluffy/img/mouse-socks.jpeg",cost:100},{id:"11",name:"flamingo",img:"/fluffy/img/flamingo-socks.jpeg",cost:100},{id:"12",name:"ice cream",img:"/fluffy/img/iceCream-socks.jpeg",cost:100},{id:"13",name:"toucan",img:"/fluffy/img/toucan-socks.jpeg",cost:100}];function q({openModal:t,resetSignal:s}){const[a,n]=l.useState("slippers"),i=m=>{n(m)},r=a==="slippers"?$:ee;return e.jsxs(e.Fragment,{children:[e.jsxs(b.div,{className:"catalog-btn",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:[e.jsx("button",{className:`${a==="slippers"?"slippers-active":""}`,onClick:()=>i("slippers"),children:e.jsx("img",{className:"slippers-png",src:"/fluffy/img/slippers.png",alt:"slippers button"})}),e.jsx("p",{children:e.jsx("img",{src:"/fluffy/img/line.png",alt:"border line"})}),e.jsx("button",{className:`${a==="socks"?"socks-active":""}`,onClick:()=>i("socks"),children:e.jsx("img",{className:"sock-png",src:"/fluffy/img/sock.png",alt:"socks button"})})]}),e.jsx("div",{className:"grid-container",children:r.map(m=>e.jsx(R,{slipperData:m,openModal:t,resetSignal:s,category:a},m.id))})]})}q.propTypes={openModal:o.func.isRequired,resetSignal:o.func.isRequired};function T({type:t,message:s,visible:a,onClose:n}){return l.useEffect(()=>{if(a){const i=setTimeout(n,2e3);return()=>clearTimeout(i)}},[a,n]),a?e.jsxs("div",{className:`global-alert alert-${t}`,children:[e.jsx("svg",{className:"bi flex-shrink-0 me-2",role:"img","aria-label":"Alert:",children:e.jsx("use",{xlinkHref:t==="success"?"#check-circle-fill":"#exclamation-triangle-fill"})}),e.jsx("div",{children:s})]}):null}T.propTypes={type:o.oneOf(["success","warning","error"]).isRequired,message:o.string.isRequired,visible:o.bool.isRequired,onClose:o.func.isRequired};const se={apiKey:"AIzaSyANmsEUokBQsmhHaC3vv-lnaJHDLGgWWP4",authDomain:"fluffy-landing.firebaseapp.com",projectId:"fluffy-landing",storageBucket:"fluffy-landing.firebasestorage.app",messagingSenderId:"1012634706727",appId:"1:1012634706727:web:bd123f58cf78c72c993f02"},te=J(se),ie=_(te);class ne{constructor({slipper:s,size:a,name:n,phone:i,city:r,np:m,quantity:u}){this.model=(s==null?void 0:s.name)||"Unknown",this.size=a||"Not selected",this.cost=(s==null?void 0:s.cost)*u,this.city=r,this.np=m,this.name=n,this.phone=i,this.timestamp=new Date().toLocaleString()}toFirebaseObject(){return{selectedModel:this.model,selectedSize:this.size,cost:this.cost,city:this.city,novaPoshta:this.np,name:this.name,phone:this.phone,timestamp:this.timestamp}}}const ae="https://fluffy-server-pi.vercel.app/api/novaposhta",F=async(t,s)=>{try{return(await H.post(ae,{methodName:t,query:s})).data}catch(a){throw console.error(`Nova Poshta API error (${t}):`,a),a}},oe=async t=>{if(!t||t.trim().length<1)return[];const s=await F("getCities",{FindByString:t});return s.success&&s.data?s.data:(console.warn("Failed to fetch cities",s),[])},re=async t=>{if(!t)return[];const s=await F("getWarehouses",{CityRef:t});return s.success&&s.data?s.data:(console.warn("Failed to fetch departments",s),[])};function E({description:t,onSelect:s}){return e.jsx("li",{className:"city-suggestion-item",onClick:()=>s(t),children:t})}E.propTypes={description:o.string,onSelect:o.func};function I({departments:t,selectedDepartment:s,onChange:a}){return t.length?e.jsxs("select",{className:"np",value:s,onChange:n=>a(n.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Оберіть відділення"}),t.map((n,i)=>e.jsx("option",{value:n.Description,children:n.Description},i))]}):e.jsx("select",{className:"np",disabled:!0,children:e.jsx("option",{children:"Завантаження відділень..."})})}I.propTypes={departments:o.array.isRequired,onChange:o.func.isRequired,selectedDepartment:o.string.isRequired};function P({selectedSize:t,onSelect:s}){const a=[35,36,37,38,39,40,41,42,43,44,45];return e.jsx("div",{className:"size-container",children:a.map(n=>e.jsx("button",{className:`size-btn ${t===n?"selected":""}`,onClick:()=>s(n),children:n},n))})}P.propTypes={selectedSize:o.number.isRequired,onSelect:o.func.isRequired};function D({closeModal:t,selectedSlipper:s,selectorValue:a}){const[n,i]=l.useState(null),[r,m]=l.useState(""),[u,j]=l.useState(""),[h,f]=l.useState({type:"",message:"",visible:!1}),[g,p]=l.useState(""),[y,x]=l.useState(""),[w,N]=l.useState([]),[O,v]=l.useState(!1),[S,A]=l.useState([]),z=async c=>{try{const d=await oe(c);N(d)}catch(d){console.error("Error in fetchCities:",d)}},B=async c=>{try{const d=await re(c);A(d)}catch(d){console.error("Error in fetchDepartments:",d)}};l.useEffect(()=>{const c=setTimeout(()=>{z(g)},100);return()=>clearTimeout(c)},[g]),l.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const M=async c=>{try{await U(W(ie,"orders"),c),console.log("Data recorded:",c)}catch(d){console.error("Error recording data:",d),f({type:"warning",message:"Виникла помилка при записі данних, будь ласка спробуйте знову",visible:!0})}},L=async()=>{if(!n)f({type:"warning",message:"Будь ласка оберіть розмір!",visible:!0});else if(!y||r.trim()===""||u.trim()===""||g.trim()==="")f({type:"warning",message:"Будь ласка заповніть усі поля та оберіть відділення!",visible:!0});else{const c=new ne({slipper:s,size:n,city:g,np:y,name:r.trim(),phone:u.trim(),quantity:a});await M(c.toFirebaseObject()),f({type:"success",message:"Дякуємо за замовлення!",visible:!0}),console.log("Alert Triggered: Thank you for your purchase!"),setTimeout(()=>{t()},1500)}},V=c=>{c.target.classList.contains("modal-container")&&(t(),console.log({selectedSize:n}))};return e.jsxs(e.Fragment,{children:[e.jsx(T,{type:h.type,message:h.message,visible:h.visible,onClose:()=>f({...h,visible:!1})}),e.jsx("div",{className:"modal-container",onClick:V,children:e.jsxs("div",{className:"modal-content",children:[e.jsx("img",{className:"modal-img",src:s.img,alt:s.name}),e.jsx("p",{className:"m-p",children:(s==null?void 0:s.name)||"Unknown Slipper"}),e.jsx(P,{selectedSize:n,onSelect:i}),e.jsx("input",{className:"top-inp",value:r,type:"text",placeholder:"Прізвище Імʼя",onChange:c=>m(c.target.value),onFocus:()=>{window.scrollBy(0,-150)}}),e.jsx("input",{type:"tel",value:u,placeholder:"Номер телефону",onChange:c=>j(c.target.value),onFocus:()=>{window.scrollBy(0,-150)}}),e.jsx("p",{className:"city-p",children:"* Введіть місто та виберіть відділення Нової Пошти"}),e.jsxs("div",{className:"city-container",children:[e.jsx("input",{className:"city-inp",type:"text",value:g,placeholder:"Введіть міcто",onChange:c=>p(c.target.value),onFocus:()=>{v(!0),window.scrollBy(0,-150)},onBlur:()=>setTimeout(()=>v(!1),100)}),O&&w.length>0&&e.jsx("ul",{className:"city-suggestions",children:w.map((c,d)=>e.jsx(E,{description:c.Description,onSelect:()=>{p(c.Description),N([]),v(!1),B(c.Ref)}},d))})]}),e.jsx("div",{className:"departament-container",children:(S.length>0||g!=="")&&e.jsx(I,{departments:S,selectedDepartment:y,onChange:x})}),e.jsxs("p",{className:"m-p",children:["Вартість: ",s.cost*a,"грн"]}),e.jsx("button",{className:"submit-btn",type:"button",onClick:L,children:"Підтвердити"})]})})]})}D.propTypes={closeModal:o.func.isRequired,selectedSlipper:o.shape({name:o.string.isRequired,img:o.string.isRequired,cost:o.number.isRequired}).isRequired,selectorValue:o.number.isRequired};const ce=()=>{const s=new Date().getFullYear();return e.jsx("div",{className:"footer",children:e.jsxs("footer",{children:[e.jsxs("p",{className:"f-p",children:["Fluffy Steps ©2024-",s]}),e.jsxs("div",{className:"btn-div",children:[e.jsxs("button",{className:"Inst-btn",onClick:()=>setTimeout(()=>{window.open("https://www.instagram.com/fluffy_steps?igsh=MTNiZXp1a3hremt0eQ==","_blank","noopener,noreferrer")},400),children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{fill:"#c1b6a2",className:"svgIcon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"})})}),e.jsx("span",{className:"Bg"})]}),e.jsxs("button",{className:"TikTok-btn",onClick:()=>{setTimeout(()=>{window.open("https://www.tiktok.com/@fluffy_steps","_blank","noopener,noreferrer")},500)},children:[e.jsx("span",{className:"svgContainer",children:e.jsx("svg",{style:{textAlign:"center"},className:"svgIcon",viewBox:"0 0 23 25",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fill:"#c1b6a2",transform:"translate(-31.423 -0.39)",d:"M51.151,6.015a5.661,5.661,0,0,1-3.42-1.143A5.662,5.662,0,0,1,45.469.39H41.8V10.414l0,5.49a3.325,3.325,0,1,1-2.281-3.151V9.029a7.218,7.218,0,0,0-1.058-.078,7.034,7.034,0,0,0-5.286,2.364,6.893,6.893,0,0,0,.311,9.505,7.158,7.158,0,0,0,.663.579,7.035,7.035,0,0,0,4.312,1.458,7.219,7.219,0,0,0,1.058-.078,7.011,7.011,0,0,0,3.917-1.959,6.868,6.868,0,0,0,2.06-4.887l-.019-8.2a9.3,9.3,0,0,0,5.688,1.933V6.014h-.011Z"})})}),e.jsx("span",{className:"Bg-tt"})]})]})]})})},C=()=>{const[t,s]=l.useState(!1);l.useEffect(()=>{const p=()=>{window.scrollY>10?s(!0):s(!1)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const[a,n]=l.useState(!1),[i,r]=l.useState(null),[m,u]=l.useState(1),[j,h]=l.useState(0);function f(p,y){r(p),n(!0),u(y),h(x=>x+1)}function g(){n(!1)}return e.jsxs("div",{className:"App",children:[e.jsx("div",{className:`header ${t?"scrolled":""}`,children:e.jsx("header",{className:t?"scrolled":"",children:e.jsx("p",{className:`h-p ${t?"scrolled":""}`,children:"FLUFFY STEPS"})})}),e.jsxs("div",{className:"content",children:[e.jsx(Z,{}),e.jsx(b.div,{className:"order-h",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:e.jsx("h1",{children:"Обирай свою пару"})}),e.jsx(q,{openModal:f,resetSignal:j,selectedSlipper:i}),a&&e.jsx(b.div,{initial:{opacity:0,y:-200},animate:{opacity:1,y:0},exit:{opacity:0,y:-200},transition:{type:"spring",stiffness:100,damping:10},className:"modal-container",style:{willChange:"transform, opacity"},children:e.jsx(D,{closeModal:g,selectedSlipper:i,selectorValue:m})})]}),e.jsx(ce,{})]})},le=()=>e.jsx(Y,{children:e.jsxs(K,{children:[e.jsx(k,{path:"/",element:e.jsx(C,{})}),e.jsx(k,{path:"/fluffy",element:e.jsx(C,{})})]})});Q.createRoot(document.getElementById("root")).render(e.jsx(X,{children:e.jsx(le,{})}));
